var formHandler={busy:!1,reg_email:new RegExp("^(?!(?:(?:\\x22?\\x5C[\\x00-\\x7E]\\x22?)|(?:\\x22?[^\\x5C\\x22]\\x22?)){255,})(?!(?:(?:\\x22?\\x5C[\\x00-\\x7E]\\x22?)|(?:\\x22?[^\\x5C\\x22]\\x22?)){65,}@)(?:(?:[\\x21\\x23-\\x27\\x2A\\x2B\\x2D\\x2F-\\x39\\x3D\\x3F\\x5E-\\x7E]+)|(?:\\x22(?:[\\x01-\\x08\\x0B\\x0C\\x0E-\\x1F\\x21\\x23-\\x5B\\x5D-\\x7F]|(?:\\x5C[\\x00-\\x7F]))*\\x22))(?:\\.(?:(?:[\\x21\\x23-\\x27\\x2A\\x2B\\x2D\\x2F-\\x39\\x3D\\x3F\\x5E-\\x7E]+)|(?:\\x22(?:[\\x01-\\x08\\x0B\\x0C\\x0E-\\x1F\\x21\\x23-\\x5B\\x5D-\\x7F]|(?:\\x5C[\\x00-\\x7F]))*\\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-[a-z0-9]+)*\\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-[a-z0-9]+)*)|(?:\\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\\]))$","i"),validate:function(){if($("#form_error").hide(),formHandler.busy)return!1;var a=/^([^0-9]*)$/,b=/^[689]\d{7}$/;try{if(0===$.trim($("#name").val()).length)throw{msg:Env.i18n.name_error_msg,elt:"#name"};if(!a.test($("#name").val()))throw{msg:Env.i18n.error_name_invalid,elt:"#name"};if(0===$.trim($("#mobile").val()).length)throw{msg:Env.i18n.mobile_empty,elt:"#mobile"};if(isNaN($("#mobile").val()))throw{msg:Env.i18n.mobile_invalid,elt:"#mobile"};if($.trim($("#mobile").val()).length<8||$.trim($("#mobile").val()).length>8)throw{msg:Env.i18n.mobile_invalid_max,elt:"#mobile"};if(!b.test($("#mobile").val()))throw{msg:Env.i18n.mobile_invalid_format,elt:"#mobile"};if(0==$.trim($("#location").val()))throw{msg:Env.i18n.location_error_msg,elt:"#location"};formHandler.busy=!0,$(".formLoader").show(),$.ajax({cache:!1,type:"POST",dataType:"json",url:"/driveform",data:{name:$("#name").val(),mobile:$("#mobile").val(),location:$("#location").val()},error:function(a){400!=a.status&&500!=a.status||$("#form_error").text(a.responseText).show()},success:function(a){console.log(a),1==a.error?$("#form_error").text(a.text).show():($("#testdrive_form")[0].reset(),$("#form_error").addClass("success_msg").text(a.text).show())},complete:function(){formHandler.busy=!1,$(".formLoader").hide()}})}catch(c){return $("#form_error").text(c.msg).show(0).delay(2e3).hide(0),$(c.elt).focus().addClass("hasError"),!1}return!0}};$(document).ready(function(a){navigator.appVersion.match(/MSIE [\d.]+/)&&$("input, textarea").placeholder(),$("#form_submit").on("click",function(a){return event.preventDefault(),formHandler.validate(),!1}),$("#mobile").keypress(function(a){46==a.which&&$(this).val().indexOf(".")==-1||!(a.which<48||a.which>57)||a.preventDefault()}),$("#mobile").on("keypress",function(a){var b=8;$(this).val().length>=b&&a.preventDefault()}),$("#name").on("keypress",function(a){var b=50;$(this).val().length>=b&&a.preventDefault()}),$(":input").keyup(function(a){0!==$(this).val().length?$(this).removeClass("hasError"):$(this).addClass("hasError")})});